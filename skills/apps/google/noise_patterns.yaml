# Noise Patterns for API Response Cleaning
# ==========================================
#
# These patterns identify noisy/useless data in API responses.
# The cleaner removes matching keys or values recursively.
#
# Format:
#   key_patterns:    Remove key-value pair if KEY matches (regex)
#   value_patterns:  Remove key-value pair if VALUE matches (regex)
#
# All patterns are case-insensitive.
#
# Usage:
#   api google gmail users.messages.get userId=me id=xxx --clean
#

# ============================================================
# CONFIRMED PATTERNS (tested and verified)
# ============================================================

key_patterns:
  # Cryptographic signatures (email authentication)
  - "^DKIM-"                    # DKIM-Signature
  - "^ARC-"                     # ARC-Seal, ARC-Message-Signature, ARC-Authentication-Results

  # Email routing/delivery headers
  - "^Received"                 # Received, Received-SPF
  - "^Return-Path$"
  - "^Delivered-To$"

  # Authentication results
  - "^Authentication-Results$"
  - "^SPF-"

  # Vendor-specific tracking headers
  - "^X-SG-"                    # SendGrid
  - "^X-Entity-ID$"
  - "^X-Gm-"                    # Gmail internal
  - "^X-Google-"                # Google internal
  - "^X-Received$"
  - "^X-Forwarded-"             # X-Forwarded-To, X-Forwarded-For, X-Forwarded-Encrypted

  # Feedback/tracking IDs
  - "^Feedback-ID$"
  - "^Message-ID$"              # Usually not needed for reading

  # Google API internal metadata
  - "^etag$"
  - "^kind$"

value_patterns:
  # Long base64 strings (signatures, encrypted data)
  - "^[A-Za-z0-9+/=]{200,}$"

  # Long hex hashes
  - "^[a-f0-9]{64,}$"

  # Multi-part DKIM/ARC values that span lines
  - "^v=1;\\s*a=rsa-sha256"

# ============================================================
# NEW PATTERNS (unconfirmed, add above line when verified)
# ============================================================
