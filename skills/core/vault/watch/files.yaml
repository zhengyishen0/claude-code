name: vault-files
type: fswatch
path: vault/
events: [Created, Updated, AttributeModified, Renamed]
exclude:
  - \.DS_Store
  - \.obsidian
  - /files/
debounce: 15

rules:
  # New note in vault root (not index.md)
  - match: ^[^/]+\.md$
    exclude: ^index\.md$
    action: skills/vault/scripts/new-note.sh

  # Submit in tasks/ (when submit: true is present)
  - match: ^tasks/.*\.md$
    condition: grep -q '^submit: true'
    action: skills/vault/scripts/submit.sh
