name: vault-notes
description: Monitor vault notes for changes
type: fswatch
path: vault/
events: [Created, Updated, AttributeModified, Renamed]
exclude:
  - "\.DS_Store"
  - "\.obsidian"
  - "/Files/"
debounce: 15

rules:
  # New note in vault root (not in subdirectory)
  - match: "^[^/]+\\.md$"
    exclude: "^index\\.md$"
    action: skills/agent/vault/scripts/new-note.sh

  # Submit in Tasks/ when submit: true
  - match: "^Tasks/.*\\.md$"
    condition: "grep -q '^submit: true'"
    action: skills/agent/vault/scripts/submit.sh
